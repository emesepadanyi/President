<div class="gameSpace" *ngIf="game">
  <div *ngIf="switchCards" class="overlay playingCards faceImages">
    <div class="alert alert-info callToAction" role="alert">
      {{getCallToActionString()}}
    </div>
    <ul class="table">
      <label *ngFor="let card of newRound.cards" for="{{card.name | lowercase}}{{card.suit}}" class="card rank-{{card.name | lowercase}} {{card.suit}}"
        [class.activePlayer]="!newRound.wait">
        <span class="rank">{{card.name}}</span>
        <div ngSwitch="{{card.suit}}">
          <span *ngSwitchCase="'clubs'" class="suit">&clubs;</span>
          <span *ngSwitchCase="'spades'" class="suit">&spades;</span>
          <span *ngSwitchCase="'diams'" class="suit">&diams;</span>
          <span *ngSwitchCase="'hearts'" class="suit">&hearts;</span>
        </div>
        <input class="selectableCards" *ngIf="!newRound.wait" type="checkbox" id="{{card.name | lowercase}}{{card.suit}}" value="select" />
      </label>
      <label *ngFor="let card of newRound.switchedCards" for="{{card.name | lowercase}}{{card.suit}}" class="disabledCard card rank-{{card.name | lowercase}} {{card.suit}}"
        [class.activePlayer]="!newRound.wait">
        <span class="rank">{{card.name}}</span>
        <div ngSwitch="{{card.suit}}">
          <span *ngSwitchCase="'clubs'" class="suit">&clubs;</span>
          <span *ngSwitchCase="'spades'" class="suit">&spades;</span>
          <span *ngSwitchCase="'diams'" class="suit">&diams;</span>
          <span *ngSwitchCase="'hearts'" class="suit">&hearts;</span>
        </div>
      </label>
    </ul>
    <div class="switchButton">
      <button type="button" class="btn btn-warning" [class.invisible]="newRound.wait" (click)="sendSwitchableCards()">
        Switch
      </button>
    </div>
  </div>
  <div class="rounds">
    Round: {{game.round}}/10
  </div>
  <div *ngFor='let enemyHand of game.hands' class="enemyHand playingCards faceImages rotateHand">
    <ul class="hand">
      <li *ngFor='let in of counter(enemyHand.noCards) ; let i = index' class="card back">*</li>
    </ul>
    <div [class.activePlayer]="isActivePlayer(enemyHand.userName)">{{enemyHand.userName}}</div>
    <div [class.activePlayer]="isActivePlayer(enemyHand.userName)">{{enemyHand.rank}}</div>
  </div>
  <div class="ownHand playingCards faceImages rotateHand">
    <div [class.activePlayer]="isActivePlayer(user)">{{user}}</div>
    <div [class.activePlayer]="isActivePlayer(user)">{{game.ownRank}}</div>
    <ul class="hand">
      <li *ngFor="let card of game.cards" class="card rank-{{card.name | lowercase}} {{card.suit}}" [class.activePlayer]="isActivePlayer(user)"
        (click)="isActivePlayer(user) && clickedOn(card)">
        <span class="rank">{{card.name}}</span>
        <div ngSwitch="{{card.suit}}">
          <span *ngSwitchCase="'clubs'" class="suit">&clubs;</span>
          <span *ngSwitchCase="'spades'" class="suit">&spades;</span>
          <span *ngSwitchCase="'diams'" class="suit">&diams;</span>
          <span *ngSwitchCase="'hearts'" class="suit">&hearts;</span>
        </div>
      </li>
    </ul>
  </div>
  <div class="passButton">
    <button type="button" class="btn btn-warning" [class.invisible]="!isActivePlayer(user)" [attr.disabled]="isActivePlayer(user)? null:true" (click)="pass()">
      Pass
    </button>
  </div>
  <div class="throwing_deck playingCards faceImages">
    <ul class="deck">
      <li *ngFor="let card of game.deck" class="card rank-{{card.name | lowercase}} {{card.suit}}" (click)="clickedOn(card)">
        <span class="rank">{{card.name}}</span>
        <div ngSwitch="{{card.suit}}">
          <span *ngSwitchCase="'clubs'" class="suit">&clubs;</span>
          <span *ngSwitchCase="'spades'" class="suit">&spades;</span>
          <span *ngSwitchCase="'diams'" class="suit">&diams;</span>
          <span *ngSwitchCase="'hearts'" class="suit">&hearts;</span>
        </div>
      </li>
    </ul>
  </div>
</div>
